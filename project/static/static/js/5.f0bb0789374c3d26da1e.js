webpackJsonp([5],{B8OP:function(t,e){},Sl7E:function(t,e){},qyvJ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("EN0V"),a={components:{},props:["s"],data:function(){return{user:{ip:"",door:"",num:"",width:"",status:""}}},computed:{},watch:{},methods:{cancel:function(){this.empty(),this.$emit("hide")},empty:function(){this.user={ip:"",door:"",num:"",width:"",status:""}},confirm:function(){var t=this;Object(n.f)(this.user).then(function(e){e.data.isok&&(t.$message({message:e.data.info,type:"success"}),t.empty(),t.$emit("hide"),t.$emit("init"))})},look:function(t){var e=this;Object(n.b)({id:t}).then(function(t){t.data.isok&&(e.user=t.data.data[0])})},update:function(){var t=this;delete this.user._id,Object(n.o)(this.user).then(function(e){e.data.isok&&(t.$message({message:e.data.info,type:"success"}),t.empty(),t.$emit("hide"),t.$emit("init"))})}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:t.s.title,visible:t.s.showDialog},on:{"update:visible":function(e){return t.$set(t.s,"showDialog",e)}}},[s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("IP：")]),t._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{model:{value:t.user.ip,callback:function(e){t.$set(t.user,"ip",e)},expression:"user.ip"}})],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("机房：")]),t._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{model:{value:t.user.door,callback:function(e){t.$set(t.user,"door",e)},expression:"user.door"}})],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("编号：")]),t._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{model:{value:t.user.num,callback:function(e){t.$set(t.user,"num",e)},expression:"user.num"}})],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("宽带：")]),t._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{model:{value:t.user.width,callback:function(e){t.$set(t.user,"width",e)},expression:"user.width"}})],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("状态：")]),t._v(" "),s("el-col",{attrs:{span:20}},[s("el-radio",{attrs:{label:"1"},model:{value:t.user.status,callback:function(e){t.$set(t.user,"status",e)},expression:"user.status"}},[t._v("空闲")]),t._v(" "),s("el-radio",{attrs:{label:"0"},model:{value:t.user.status,callback:function(e){t.$set(t.user,"status",e)},expression:"user.status"}},[t._v("已出售")])],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("时间：")]),t._v(" "),s("el-col",{attrs:{span:20}},[s("el-date-picker",{attrs:{disabled:!t.s.isAdd,type:"date",placeholder:"选择日期"},model:{value:t.user.time,callback:function(e){t.$set(t.user,"time",e)},expression:"user.time"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),t.s.isAdd?s("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("添 加")]):s("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var o={components:{addDevice:s("C7Lr")(a,i,!1,function(t){s("B8OP")},"data-v-03023967",null).exports},data:function(){return{isAdmin:localStorage.getItem("isAdmin"),arr:[],status:{title:"添加设备",isAdd:!0,showDialog:!1}}},computed:{},watch:{},methods:{willadd:function(){this.status.title="添加设备",this.status.showDialog=!0,this.status.isAdd=!0},hide:function(){this.status.showDialog=!1},init:function(){var t=this;Object(n.b)({}).then(function(e){e.data.isok&&(t.arr=e.data.data)})},look:function(t){this.$refs.add.look(t),this.status.title="修改管理员",this.status.isAdd=!1,this.status.showDialog=!0},del:function(t){var e=this;this.$confirm("你确定要删除吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.j)({id:t}).then(function(t){t.data.isok&&(e.$message({type:"success",message:t.data.info}),e.init())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},shop:function(t){var e=this;Object(n.o)({id:t,status:"0"}).then(function(t){t.data.isok&&(e.$message({type:"success",message:"购买成功"}),e.init())})}},created:function(){},mounted:function(){this.init()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("设备列表")]),t._v(" "),"2"!=t.isAdmin?s("el-button",{attrs:{type:"success"},on:{click:t.willadd}},[t._v("新增")]):t._e(),t._v(" "),s("el-row",[s("el-col",{attrs:{span:20,offset:2}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.arr}},[s("el-table-column",{attrs:{prop:"ip",label:"IP",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"door",label:"机房",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{label:"状态",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("1"==e.row.status?"空闲":"已出售"))]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return["2"!=t.isAdmin?s("el-button",{attrs:{type:"warning"},on:{click:function(s){return t.look(e.row.id)}}},[t._v("查看")]):t._e(),t._v(" "),"2"!=t.isAdmin?s("el-button",{attrs:{type:"danger"},on:{click:function(s){return t.del(e.row.id)}}},[t._v("删除")]):t._e(),t._v(" "),"2"==t.isAdmin?s("el-button",{attrs:{type:"primary",disabled:"0"==e.row.status},on:{click:function(s){return t.shop(e.row.id)}}},[t._v("购买")]):t._e()]}}])})],1)],1)],1),t._v(" "),s("add-device",{ref:"add",attrs:{s:t.status},on:{hide:t.hide,init:t.init}})],1)},staticRenderFns:[]};var r=s("C7Lr")(o,l,!1,function(t){s("Sl7E")},"data-v-6a4b55cd",null);e.default=r.exports}});
//# sourceMappingURL=5.f0bb0789374c3d26da1e.js.map