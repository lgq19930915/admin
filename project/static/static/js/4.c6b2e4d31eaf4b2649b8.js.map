{"version":3,"sources":["webpack:///src/components/addNews.vue","webpack:///./src/components/addNews.vue?80b7","webpack:///./src/components/addNews.vue","webpack:///src/pages/news.vue","webpack:///./src/pages/news.vue?dc2e","webpack:///./src/pages/news.vue"],"names":["addNews","components","props","data","isAdmin","localStorage","getItem","user","tit","con","time","computed","watch","methods","cancel","this","empty","$emit","title","confirm","_this","extends_default","Date","getTime","Object","request","then","res","isok","$message","message","info","type","look","id","_this2","parseInt","update","_this3","_id","created","mounted","beforeCreate","beforeMount","beforeUpdate","updated","beforeDestroy","destroyed","activated","components_addNews","render","_vm","_h","$createElement","_c","_self","attrs","s","visible","showDialog","on","update:visible","$event","$set","staticClass","span","_v","disabled","model","value","callback","$$v","expression","placeholder","slot","click","staticRenderFns","news","__webpack_require__","normalizeComponent","ssrContext","arr","status","isAdd","willadd","hide","init","$refs","add","del","$confirm","confirmButtonText","cancelButtonText","catch","pages_news","_e","offset","staticStyle","width","prop","label","scopedSlots","_u","key","fn","scope","_s","_f","row","ref","news_Component","news_normalizeComponent","__webpack_exports__"],"mappings":"iKAuCAA,GAGAC,cACAC,OAAA,KACAC,KALA,WAOA,OACAC,QAAAC,aAAAC,QAAA,WACAC,MACAC,IAAA,GACAC,IAAA,GACAC,KAAA,MAKAC,YAEAC,SAEAC,SAEAC,OAFA,WAGAC,KAAAC,QACAD,KAAAE,MAAA,SAGAD,MAPA,WAQAD,KAAAR,MACAW,MAAA,GACAT,IAAA,GACAC,KAAA,KAIAS,QAfA,WAeA,IAAAC,EAAAL,KAEAZ,EAAAkB,OACAN,KAAAR,MACAG,KAAA,IAAAY,KAAAP,KAAAR,KAAAG,MAAAa,YAGMC,OAAAC,EAAA,EAAAD,CAANrB,GAAAuB,KAAA,SAAAC,GAEAA,EAAAxB,KAAAyB,OACAR,EAAAS,UACAC,QAAAH,EAAAxB,KAAA4B,KACAC,KAAA,YAGAZ,EAAAJ,QAEAI,EAAAH,MAAA,QAEAG,EAAAH,MAAA,YAKAgB,KAvCA,SAuCAC,GAAA,IAAAC,EAAApB,KACMS,OAAAC,EAAA,EAAAD,EACNU,OACAR,KAAA,SAAAC,GACAA,EAAAxB,KAAAyB,OAEAO,EAAA5B,KAAAoB,EAAAxB,UAAA,GAEAgC,EAAA5B,KAAAG,KAAA,IAAAY,KAAAc,SAAAD,EAAA5B,KAAAG,WAKA2B,OApDA,WAoDA,IAAAC,EAAAvB,YACAA,KAAAR,KAAAgC,IACAxB,KAAAR,KAAAG,KAAA,IAAAY,KAAAP,KAAAR,KAAAG,MAAAa,UACMC,OAAAC,EAAA,EAAAD,CAANT,KAAAR,MAAAmB,KAAA,SAAAC,GACAA,EAAAxB,KAAAyB,OAEAU,EAAAT,UACAC,QAAAH,EAAAxB,KAAA4B,KACAC,KAAA,YAGAM,EAAAtB,QAEAsB,EAAArB,MAAA,QAEAqB,EAAArB,MAAA,aAMAuB,QA9FA,aAgGAC,QAhGA,aAiGAC,aAjGA,aAkGAC,YAlGA,aAmGAC,aAnGA,aAoGAC,QApGA,aAqGAC,cArGA,aAsGAC,UAtGA,aAuGAC,UAvGA,cCpCeC,GADEC,OAFjB,WAA0B,IAAAC,EAAApC,KAAaqC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,aAAiCE,OAAOtC,MAAAiC,EAAAM,EAAAvC,MAAAwC,QAAAP,EAAAM,EAAAE,YAA+CC,IAAKC,iBAAA,SAAAC,GAAkC,OAAAX,EAAAY,KAAAZ,EAAAM,EAAA,aAAAK,OAA+CR,EAAA,UAAAA,EAAA,UAA4BU,YAAA,QAAAR,OAA2BS,KAAA,KAAUd,EAAAe,GAAA,SAAAf,EAAAe,GAAA,KAAAZ,EAAA,UAA2CE,OAAOS,KAAA,MAAWX,EAAA,YAAiBE,OAAOW,SAAA,KAAAhB,EAAA/C,SAA4BgE,OAAQC,MAAAlB,EAAA5C,KAAA,IAAA+D,SAAA,SAAAC,GAA8CpB,EAAAY,KAAAZ,EAAA5C,KAAA,MAAAgE,IAA+BC,WAAA,eAAwB,OAAArB,EAAAe,GAAA,KAAAZ,EAAA,UAAAA,EAAA,UAAgDU,YAAA,QAAAR,OAA2BS,KAAA,KAAUd,EAAAe,GAAA,SAAAf,EAAAe,GAAA,KAAAZ,EAAA,UAA2CE,OAAOS,KAAA,MAAWX,EAAA,YAAiBE,OAAOxB,KAAA,WAAAmC,SAAA,KAAAhB,EAAA/C,SAA8CgE,OAAQC,MAAAlB,EAAA5C,KAAA,IAAA+D,SAAA,SAAAC,GAA8CpB,EAAAY,KAAAZ,EAAA5C,KAAA,MAAAgE,IAA+BC,WAAA,eAAwB,OAAArB,EAAAe,GAAA,KAAAZ,EAAA,UAAAA,EAAA,UAAgDU,YAAA,QAAAR,OAA2BS,KAAA,KAAUd,EAAAe,GAAA,SAAAf,EAAAe,GAAA,KAAAZ,EAAA,UAA2CE,OAAOS,KAAA,MAAWX,EAAA,kBAAuBE,OAAOW,SAAA,KAAAhB,EAAA/C,QAAA4B,KAAA,OAAAyC,YAAA,QAA+DL,OAAQC,MAAAlB,EAAA5C,KAAA,KAAA+D,SAAA,SAAAC,GAA+CpB,EAAAY,KAAAZ,EAAA5C,KAAA,OAAAgE,IAAgCC,WAAA,gBAAyB,OAAArB,EAAAe,GAAA,KAAAZ,EAAA,OAAgCU,YAAA,gBAAAR,OAAmCkB,KAAA,UAAgBA,KAAA,WAAepB,EAAA,aAAkBM,IAAIe,MAAAxB,EAAArC,UAAoBqC,EAAAe,GAAA,SAAAf,EAAAe,GAAA,KAAAf,EAAAM,EAAA,MAAAH,EAAA,aAA4DE,OAAOxB,KAAA,WAAiB4B,IAAKe,MAAAxB,EAAAhC,WAAqBgC,EAAAe,GAAA,SAAAZ,EAAA,aAAkCE,OAAOxB,KAAA,UAAAmC,SAAA,KAAAhB,EAAA/C,SAA6CwD,IAAKe,MAAAxB,EAAAd,UAAoBc,EAAAe,GAAA,sBAEjiDU,oBCCjB,IC+BAC,GAEA5E,YACAD,QDlCyB8E,EAAQ,OAcjCC,CACE/E,EACAiD,GATF,EAVA,SAAA+B,GACEF,EAAQ,SAaV,kBAEA,MAUgC,SCahC3E,KALA,WAOA,OACAC,QAAAC,aAAAC,QAAA,WACA2E,OACAC,QACAhE,MAAA,OACAiE,OAAA,EACAxB,YAAA,KAKAhD,YAEAC,SAEAC,SAEAuE,QAFA,WAGArE,KAAAmE,OAAAhE,MAAA,OACAH,KAAAmE,OAAAvB,YAAA,EACA5C,KAAAmE,OAAAC,OAAA,GAGAE,KARA,WASAtE,KAAAmE,OAAAvB,YAAA,GAGA2B,KAZA,WAYA,IAAAlE,EAAAL,KAEMS,OAAAC,EAAA,EAAAD,KAANE,KAAA,SAAAC,GACAA,EAAAxB,KAAAyB,OAEAR,EAAA6D,IAAAtD,EAAAxB,cAMA8B,KAvBA,SAuBAC,GAEAnB,KAAAwE,MAAAC,IAAAvD,KAAAC,GACAnB,KAAAmE,OAAAhE,MAAA,QACAH,KAAAmE,OAAAC,OAAA,EACApE,KAAAmE,OAAAvB,YAAA,GAGA8B,IA/BA,SA+BAvD,GAAA,IAAAC,EAAApB,KACAA,KAAA2E,SAAA,iBACAC,kBAAA,KACAC,iBAAA,KACA5D,KAAA,YAEAN,KAAA,WAEQF,OAAAC,EAAA,EAAAD,EACRU,OACAR,KAAA,SAAAC,GAEAA,EAAAxB,KAAAyB,OACAO,EAAAN,UACAG,KAAA,UACAF,QAAAH,EAAAxB,KAAA4B,OAGAI,EAAAmD,YAIAO,MAAA,WAEA1D,EAAAN,UACAG,KAAA,OACAF,QAAA,cAMAU,QArFA,aAuFAC,QAvFA,WAyFA1B,KAAAuE,QAEA5C,aA3FA,aA4FAC,YA5FA,aA6FAC,aA7FA,aA8FAC,QA9FA,aA+FAC,cA/FA,aAgGAC,UAhGA,aAiGAC,UAjGA,cC/Be8C,GADE5C,OAFP,WAAgB,IAAAC,EAAApC,KAAaqC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,MAAAH,EAAAe,GAAA,UAAAf,EAAAe,GAAA,UAAAf,EAAA/C,QAAAkD,EAAA,aAA0FE,OAAOxB,KAAA,WAAiB4B,IAAKe,MAAAxB,EAAAiC,WAAqBjC,EAAAe,GAAA,QAAAf,EAAA4C,KAAA5C,EAAAe,GAAA,KAAAZ,EAAA,UAAAA,EAAA,UAAgEE,OAAOS,KAAA,GAAA+B,OAAA,KAAsB1C,EAAA,YAAiB2C,aAAaC,MAAA,QAAe1C,OAAQrD,KAAAgD,EAAA8B,OAAgB3B,EAAA,mBAAwBE,OAAO2C,KAAA,MAAAC,MAAA,KAAAF,MAAA,SAAyC/C,EAAAe,GAAA,KAAAZ,EAAA,mBAAoCE,OAAO4C,MAAA,MAAaC,YAAAlD,EAAAmD,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAnD,EAAA,QAAAH,EAAAe,GAAAf,EAAAuD,GAAAvD,EAAAwD,GAAA,OAAAxD,CAAAsD,EAAAG,IAAAlG,iBAAyEyC,EAAAe,GAAA,KAAAZ,EAAA,mBAAoCE,OAAO4C,MAAA,MAAaC,YAAAlD,EAAAmD,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAnD,EAAA,aAAwBE,OAAOxB,KAAA,WAAiB4B,IAAKe,MAAA,SAAAb,GAAyB,OAAAX,EAAAlB,KAAAwE,EAAAG,IAAA1E,QAAgCiB,EAAAe,GAAA,QAAAf,EAAAe,GAAA,KAAAZ,EAAA,aAA6CE,OAAOxB,KAAA,UAAgB4B,IAAKe,MAAA,SAAAb,GAAyB,OAAAX,EAAAsC,IAAAgB,EAAAG,IAAA1E,QAA+BiB,EAAAe,GAAA,gBAAsB,WAAAf,EAAAe,GAAA,KAAAZ,EAAA,YAAyCuD,IAAA,MAAArD,OAAiBC,EAAAN,EAAA+B,QAAetB,IAAKyB,KAAAlC,EAAAkC,KAAAC,KAAAnC,EAAAmC,SAAiC,IAE1kCV,oBCChC,IAcIkC,EAdqBhC,EAAQ,OAcjBiC,CACdlC,EACAiB,GAT6B,EAV/B,SAAoBd,GAClBF,EAAQ,SAaS,kBAEU,MAUdkC,EAAA,QAAAF,EAAiB","file":"static/js/4.c6b2e4d31eaf4b2649b8.js","sourcesContent":["<!--  -->\r\n<template>\r\n  <div>\r\n    <el-dialog :title=\"s.title\" :visible.sync=\"s.showDialog\">\r\n      <el-row>\r\n        <el-col :span=\"4\" class=\"lable\">题目：</el-col>\r\n        <el-col :span=\"20\">\r\n          <el-input v-model=\"user.tit\" :disabled=\"isAdmin=='2'\"></el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"4\" class=\"lable\">内容：</el-col>\r\n        <el-col :span=\"20\">\r\n          <el-input v-model=\"user.con\" type=\"textarea\" :disabled=\"isAdmin=='2'\"></el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"4\" class=\"lable\">时间：</el-col>\r\n        <el-col :span=\"20\">\r\n          <el-date-picker v-model=\"user.time\" :disabled=\"isAdmin=='2'\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n        </el-col>\r\n      </el-row>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"confirm\" v-if=\"s.isAdd\">添 加</el-button>\r\n        <el-button type=\"primary\" v-else @click=\"update\" :disabled=\"isAdmin=='2'\">修 改</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\n//例如：import 《组件名称》 from '《组件路径》';\r\nimport {\r\n  requestAddNews,\r\n  findNews,\r\n  requestUpdateNews\r\n} from \"../Util/request.js\";\r\nexport default {\r\n  //import引入的组件需要注入到对象中才能使用\r\n\r\n  components: {},\r\n  props: [\"s\"],\r\n  data() {\r\n    //这里存放数据\r\n    return {\r\n      isAdmin: localStorage.getItem(\"isAdmin\"),\r\n      user: {\r\n        tit: \"\",\r\n        con: \"\",\r\n        time: \"\"\r\n      }\r\n    };\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //方法集合\r\n  methods: {\r\n    //   取消\r\n    cancel() {\r\n      this.empty();\r\n      this.$emit(\"hide\");\r\n    },\r\n    // 清空对话框\r\n    empty() {\r\n      this.user = {\r\n        title: \"\",\r\n        con: \"\",\r\n        time: \"\"\r\n      };\r\n    },\r\n    //  添加\r\n    confirm() {\r\n      //   添加的请求 注意现在的time是个时间对象要newDate一下\r\n      var data = {\r\n        ...this.user,\r\n        time: new Date(this.user.time).getTime()\r\n      };\r\n      //   发请求\r\n      requestAddNews(data).then(res => {\r\n        //   添加成功，1弹内容\r\n        if (res.data.isok) {\r\n          this.$message({\r\n            message: res.data.info,\r\n            type: \"success\"\r\n          });\r\n          //   2清空对话框\r\n          this.empty();\r\n          //   3添加对话框消失\r\n          this.$emit(\"hide\");\r\n          //   4添加成功通知父组件重新查询管理员\r\n          this.$emit(\"init\");\r\n        }\r\n      });\r\n    },\r\n    // 查看\r\n    look(id) {\r\n      findNews({\r\n        id: id\r\n      }).then(res => {\r\n        if (res.data.isok) {\r\n          // 获取某条数据\r\n          this.user = res.data.data[0];\r\n          //   时间需要转为时间对象\r\n          this.user.time = new Date(parseInt(this.user.time));\r\n        }\r\n      });\r\n    },\r\n    // 修改\r\n    update() {\r\n      delete this.user._id;\r\n      this.user.time = new Date(this.user.time).getTime();\r\n      requestUpdateNews(this.user).then(res => {\r\n        if (res.data.isok) {\r\n          // 弹成功\r\n          this.$message({\r\n            message: res.data.info,\r\n            type: \"success\"\r\n          });\r\n          //   清空对话框\r\n          this.empty();\r\n          //   对话框消失\r\n          this.$emit(\"hide\");\r\n          //   通知组件重新查询数据\r\n          this.$emit(\"init\");\r\n        }\r\n      });\r\n    }\r\n  },\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created() {},\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted() {},\r\n  beforeCreate() {}, //生命周期 - 创建之前\r\n  beforeMount() {}, //生命周期 - 挂载之前\r\n  beforeUpdate() {}, //生命周期 - 更新之前\r\n  updated() {}, //生命周期 - 更新之后\r\n  beforeDestroy() {}, //生命周期 - 销毁之前\r\n  destroyed() {}, //生命周期 - 销毁完成\r\n  activated() {} //如果页面有keep-alive缓存功能，这个函数会触发\r\n};\r\n</script>\r\n<style lang='css' scoped>\r\n.lable {\r\n  line-height: 40px;\r\n}\r\n.el-row {\r\n  margin-bottom: 20px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/addNews.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":_vm.s.title,\"visible\":_vm.s.showDialog},on:{\"update:visible\":function($event){return _vm.$set(_vm.s, \"showDialog\", $event)}}},[_c('el-row',[_c('el-col',{staticClass:\"lable\",attrs:{\"span\":4}},[_vm._v(\"题目：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"disabled\":_vm.isAdmin=='2'},model:{value:(_vm.user.tit),callback:function ($$v) {_vm.$set(_vm.user, \"tit\", $$v)},expression:\"user.tit\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"lable\",attrs:{\"span\":4}},[_vm._v(\"内容：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"disabled\":_vm.isAdmin=='2'},model:{value:(_vm.user.con),callback:function ($$v) {_vm.$set(_vm.user, \"con\", $$v)},expression:\"user.con\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"lable\",attrs:{\"span\":4}},[_vm._v(\"时间：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-date-picker',{attrs:{\"disabled\":_vm.isAdmin=='2',\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.user.time),callback:function ($$v) {_vm.$set(_vm.user, \"time\", $$v)},expression:\"user.time\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.s.isAdd)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"添 加\")]):_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.isAdmin=='2'},on:{\"click\":_vm.update}},[_vm._v(\"修 改\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2e3615d0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/addNews.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e3615d0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./addNews.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addNews.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addNews.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e3615d0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./addNews.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e3615d0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/addNews.vue\n// module id = null\n// module chunks = ","<!--  -->\r\n<template>\r\n  <div>\r\n    <h1>通知列表</h1>\r\n    <el-button type=\"success\" @click=\"willadd\" v-if=\"isAdmin!='2'\">新增</el-button>\r\n    <el-row>\r\n      <el-col :span=\"20\" :offset=\"2\">\r\n        <el-table :data=\"arr\" style=\"width: 100%\">\r\n          <el-table-column prop=\"tit\" label=\"题目\" width=\"180\"></el-table-column>\r\n\r\n          <el-table-column label=\"时间\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.time |time}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"warning\" @click=\"look(scope.row.id)\">查看</el-button>\r\n              <el-button type=\"danger\" @click=\"del(scope.row.id)\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 添加管理员 的组件addManage -->\r\n    <add-news ref=\"add\" :s=\"status\" @hide=\"hide\" @init=\"init\"></add-news>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\n//例如：import 《组件名称》 from '《组件路径》';\r\nimport { findNews, requestDelNews } from \"../Util/request\";\r\nimport addNews from \"../components/addNews\";\r\nexport default {\r\n  //import引入的组件需要注入到对象中才能使用\r\n  components: {\r\n    addNews\r\n  },\r\n  data() {\r\n    //这里存放数据\r\n    return {\r\n      isAdmin: localStorage.getItem(\"isAdmin\"),\r\n      arr: [],\r\n      status: {\r\n        title: \"添加通知\",\r\n        isAdd: true, //如果是添加true，如果是修改false\r\n        showDialog: false //对话框出现的状态\r\n      }\r\n    };\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //方法集合\r\n  methods: {\r\n    // 点击按钮出现添加对话框\r\n    willadd() {\r\n      this.status.title = \"添加通知\";\r\n      this.status.showDialog = true;\r\n      this.status.isAdd = true;\r\n    },\r\n    // 隐藏\r\n    hide() {\r\n      this.status.showDialog = false;\r\n    },\r\n    // 初始化数据\r\n    init() {\r\n      //   一进页面就要查询\r\n      findNews({}).then(res => {\r\n        if (res.data.isok) {\r\n          //请求成功\r\n          this.arr = res.data.data;\r\n        }\r\n      });\r\n    },\r\n    // 查看\r\n\r\n    look(id) {\r\n      // 通过ref调用子组件的look方法\r\n      this.$refs.add.look(id);\r\n      this.status.title = \"修改管理员\";\r\n      this.status.isAdd = false;\r\n      this.status.showDialog = true;\r\n    },\r\n    //删除\r\n    del(id) {\r\n      this.$confirm(\"你确定要删除吗？\", \"提示\", {\r\n        confirmButtonText: \"删除\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          //点击了确定按钮\r\n          requestDelNews({\r\n            id: id\r\n          }).then(res => {\r\n            //删除成功\r\n            if (res.data.isok) {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: res.data.info\r\n              });\r\n              //刷新页面\r\n              this.init();\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          //点击了取消按钮要做事情\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    }\r\n  },\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created() {},\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted() {\r\n    // 一进去就查询\r\n    this.init();\r\n  },\r\n  beforeCreate() {}, //生命周期 - 创建之前\r\n  beforeMount() {}, //生命周期 - 挂载之前\r\n  beforeUpdate() {}, //生命周期 - 更新之前\r\n  updated() {}, //生命周期 - 更新之后\r\n  beforeDestroy() {}, //生命周期 - 销毁之前\r\n  destroyed() {}, //生命周期 - 销毁完成\r\n  activated() {} //如果页面有keep-alive缓存功能，这个函数会触发\r\n};\r\n</script>\r\n<style lang='css' scoped>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/news.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"通知列表\")]),_vm._v(\" \"),(_vm.isAdmin!='2')?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.willadd}},[_vm._v(\"新增\")]):_vm._e(),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":20,\"offset\":2}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.arr}},[_c('el-table-column',{attrs:{\"prop\":\"tit\",\"label\":\"题目\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"time\")(scope.row.time)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.look(scope.row.id)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1),_vm._v(\" \"),_c('add-news',{ref:\"add\",attrs:{\"s\":_vm.status},on:{\"hide\":_vm.hide,\"init\":_vm.init}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1af3ec7a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/news.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1af3ec7a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./news.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./news.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./news.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1af3ec7a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./news.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1af3ec7a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/news.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}