webpackJsonp([3],{G9d0:function(t,e){},X5Lf:function(t,e){},kR9e:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("EN0V"),n=s("4YfN"),i=s.n(n),o={components:{},props:["s"],data:function(){return{user:{name:"",pass:"",prop:"",time:""},confirmPass:""}},computed:{},watch:{},methods:{cancel:function(){this.empty(),this.$emit("hide")},empty:function(){this.user={name:"",pass:"",prop:"",time:""},this.confirmPass=""},confirm:function(){var t=this;if(this.confirmPass===this.user.pass){var e=i()({},this.user,{time:new Date(this.user.time).getTime()});Object(a.g)(e).then(function(e){e.data.isok&&(t.$message({message:e.data.info,type:"success"}),t.empty(),t.$emit("hide"),t.$emit("init"))})}else this.$message({message:"两次密码不一致",type:"success"})},look:function(t){var e=this;Object(a.c)({id:t}).then(function(t){t.data.isok&&(e.user=t.data.data[0],e.user.time=new Date(parseInt(e.user.time)))})},update:function(){var t=this;delete this.user._id,this.user.time=new Date(this.user.time).getTime(),Object(a.p)(this.user).then(function(e){e.data.isok&&(t.$message({message:e.data.info,type:"success"}),t.empty(),t.$emit("hide"),t.$emit("init"))})}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:t.s.title,visible:t.s.showDialog},on:{"update:visible":function(e){return t.$set(t.s,"showDialog",e)}}},[s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("账号：")]),t._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{attrs:{disabled:!t.s.isAdd},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("密码：")]),t._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{attrs:{"show-password":"",disabled:!t.s.isAdd},model:{value:t.user.pass,callback:function(e){t.$set(t.user,"pass",e)},expression:"user.pass"}})],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("确认密码：")]),t._v(" "),s("el-col",{attrs:{span:20}},[t.s.isAdd?s("el-input",{attrs:{"show-password":""},model:{value:t.confirmPass,callback:function(e){t.confirmPass=e},expression:"confirmPass"}}):t._e()],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("属性：")]),t._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{model:{value:t.user.prop,callback:function(e){t.$set(t.user,"prop",e)},expression:"user.prop"}})],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[t._v("时间：")]),t._v(" "),s("el-col",{attrs:{span:20}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.user.time,callback:function(e){t.$set(t.user,"time",e)},expression:"user.time"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),t.s.isAdd?s("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("添 加")]):s("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var c={components:{addManage:s("C7Lr")(o,r,!1,function(t){s("G9d0")},"data-v-533ae206",null).exports},data:function(){return{arr:[],status:{title:"添加管理员",isAdd:!0,showDialog:!1}}},computed:{},watch:{},methods:{willadd:function(){this.status.title="添加管理员",this.status.showDialog=!0,this.status.isAdd=!0},hide:function(){this.status.showDialog=!1},init:function(){var t=this;Object(a.c)({}).then(function(e){e.data.isok&&(t.arr=e.data.data)})},look:function(t){this.$refs.add.look(t),this.status.title="修改管理员",this.status.isAdd=!1,this.status.showDialog=!0},del:function(t){var e=this;this.$confirm("你确定要删除吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.k)({id:t}).then(function(t){t.data.isok&&(e.$message({type:"success",message:t.data.info}),e.init())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},created:function(){},mounted:function(){this.init()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("管理员列表")]),t._v(" "),s("el-button",{attrs:{type:"success"},on:{click:t.willadd}},[t._v("新增")]),t._v(" "),s("el-row",[s("el-col",{attrs:{span:20,offset:2}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.arr}},[s("el-table-column",{attrs:{prop:"name",label:"账号",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"prop",label:"属性",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{label:"时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(t._f("time")(e.row.time)))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"warning"},on:{click:function(s){return t.look(e.row.id)}}},[t._v("查看")]),t._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:function(s){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)],1),t._v(" "),s("add-manage",{ref:"add",attrs:{s:t.status},on:{hide:t.hide,init:t.init}})],1)},staticRenderFns:[]};var u=s("C7Lr")(c,l,!1,function(t){s("X5Lf")},"data-v-c3dc7f46",null);e.default=u.exports}});
//# sourceMappingURL=3.a789f2d3c23f9ebc6aa7.js.map