webpackJsonp([2],{N0Jo:function(e,t){},R1Qy:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("EN0V"),n=s("4YfN"),i=s.n(n),l={components:{},props:["s"],data:function(){return{user:{name:"",pass:"",tel:"",email:"",idx:"",sex:"",des:"",time:""},confirmPass:""}},computed:{},watch:{},methods:{cancel:function(){this.empty(),this.$emit("hide")},empty:function(){this.user={name:"",pass:"",tel:"",email:"",idx:"",sex:"",des:"",time:""},this.confirmPass=""},confirm:function(){var e=this;if(this.confirmPass===this.user.pass){var t=i()({},this.user,{time:new Date(this.user.time).getTime()});Object(a.i)(t).then(function(t){t.data.isok&&(e.$message({message:t.data.info,type:"success"}),e.empty(),e.$emit("hide"),e.$emit("init"))})}else this.$message({message:"两次密码不一致",type:"success"})},look:function(e){var t=this;Object(a.e)({id:e}).then(function(e){e.data.isok&&(t.user=e.data.data[0],t.user.time=new Date(parseInt(t.user.time)))})},update:function(){var e=this;delete this.user._id,this.user.time=new Date(this.user.time).getTime(),Object(a.r)(this.user).then(function(t){t.data.isok&&(e.$message({message:t.data.info,type:"success"}),e.empty(),e.$emit("hide"),e.$emit("init"))})}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:e.s.title,visible:e.s.showDialog},on:{"update:visible":function(t){return e.$set(e.s,"showDialog",t)}}},[s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[e._v("账号：")]),e._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1)],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[e._v("密码：")]),e._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{attrs:{"show-password":""},model:{value:e.user.pass,callback:function(t){e.$set(e.user,"pass",t)},expression:"user.pass"}})],1)],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[e._v("确认密码：")]),e._v(" "),s("el-col",{attrs:{span:20}},[e.s.isAdd?s("el-input",{attrs:{"show-password":""},model:{value:e.confirmPass,callback:function(t){e.confirmPass=t},expression:"confirmPass"}}):e._e()],1)],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[e._v("电话：")]),e._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{model:{value:e.user.tel,callback:function(t){e.$set(e.user,"tel",t)},expression:"user.tel"}})],1)],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[e._v("邮箱：")]),e._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[e._v("身份证号码：")]),e._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{attrs:{disabled:!e.s.isAdd},model:{value:e.user.idx,callback:function(t){e.$set(e.user,"idx",t)},expression:"user.idx"}})],1)],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[e._v("性别：")]),e._v(" "),s("el-col",{attrs:{span:20}},[s("el-radio",{attrs:{label:"男",disabled:!e.s.isAdd},model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[e._v("男")]),e._v(" "),s("el-radio",{attrs:{label:"女",disabled:!e.s.isAdd},model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[e._v("女")])],1)],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[e._v("备注：")]),e._v(" "),s("el-col",{attrs:{span:20}},[s("el-input",{model:{value:e.user.des,callback:function(t){e.$set(e.user,"des",t)},expression:"user.des"}})],1)],1),e._v(" "),s("el-row",[s("el-col",{staticClass:"lable",attrs:{span:4}},[e._v("时间：")]),e._v(" "),s("el-col",{attrs:{span:20}},[s("el-date-picker",{attrs:{type:"date",disabled:!e.s.isAdd,placeholder:"选择日期"},model:{value:e.user.time,callback:function(t){e.$set(e.user,"time",t)},expression:"user.time"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),e.s.isAdd?s("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("添 加")]):s("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var r={components:{addUser:s("C7Lr")(l,o,!1,function(e){s("N0Jo")},"data-v-f8f07694",null).exports},data:function(){return{arr:[],status:{title:"添加管理用户",isAdd:!0,showDialog:!1}}},computed:{},watch:{},methods:{willadd:function(){this.status.title="添加管理用户",this.status.showDialog=!0,this.status.isAdd=!0},hide:function(){this.status.showDialog=!1},init:function(){var e=this;Object(a.e)({}).then(function(t){t.data.isok&&(e.arr=t.data.data)})},look:function(e){this.$refs.add.look(e),this.status.title="修改用户",this.status.isAdd=!1,this.status.showDialog=!0},del:function(e){var t=this;this.$confirm("你确定要删除吗？","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.m)({id:e}).then(function(e){e.data.isok&&(t.$message({type:"success",message:e.data.info}),t.init())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}},created:function(){},mounted:function(){this.init()},beforeRouteEnter:function(e,t,s){var a=localStorage.getItem("isAdmin");"0"===a||"1"==a?s():s("/index/welcome")},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v("用户列表")]),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:e.willadd}},[e._v("新增")]),e._v(" "),s("el-row",[s("el-col",{attrs:{span:20,offset:2}},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arr}},[s("el-table-column",{attrs:{prop:"name",label:"账号",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{prop:"tel",label:"电话",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{prop:"sex",label:"性别",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{label:"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(e._f("time")(t.row.time)))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"warning"},on:{click:function(s){return e.look(t.row.id)}}},[e._v("查看")]),e._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:function(s){return e.del(t.row.id)}}},[e._v("删除")])]}}])})],1)],1)],1),e._v(" "),s("add-user",{ref:"add",attrs:{s:e.status},on:{hide:e.hide,init:e.init}})],1)},staticRenderFns:[]};var u=s("C7Lr")(r,c,!1,function(e){s("vBAH")},"data-v-e136e2c8",null);t.default=u.exports},vBAH:function(e,t){}});
//# sourceMappingURL=2.5921d9612712eb36aa8e.js.map