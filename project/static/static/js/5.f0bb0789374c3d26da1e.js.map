{"version":3,"sources":["webpack:///src/components/addDevice.vue","webpack:///./src/components/addDevice.vue?cdb0","webpack:///./src/components/addDevice.vue","webpack:///src/pages/device.vue","webpack:///./src/pages/device.vue?aa39","webpack:///./src/pages/device.vue"],"names":["addDevice","components","props","data","user","ip","door","num","width","status","computed","watch","methods","cancel","this","empty","$emit","confirm","_this","Object","request","then","res","isok","$message","message","info","type","look","id","_this2","update","_this3","_id","created","mounted","beforeCreate","beforeMount","beforeUpdate","updated","beforeDestroy","destroyed","activated","components_addDevice","render","_vm","_h","$createElement","_c","_self","attrs","title","s","visible","showDialog","on","update:visible","$event","$set","staticClass","span","_v","model","value","callback","$$v","expression","label","disabled","isAdd","placeholder","slot","click","staticRenderFns","device","__webpack_require__","normalizeComponent","ssrContext","isAdmin","localStorage","getItem","arr","willadd","hide","init","$refs","add","del","$confirm","confirmButtonText","cancelButtonText","catch","shop","pages_device","_e","offset","staticStyle","prop","scopedSlots","_u","key","fn","scope","_s","row","ref","device_Component","device_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/5.f0bb0789374c3d26da1e.js","sourcesContent":["<!--  -->\r\n<template>\r\n  <div>\r\n    <el-dialog :title=\"s.title\" :visible.sync=\"s.showDialog\">\r\n      <el-row>\r\n        <el-col :span=\"4\" class=\"lable\">IP：</el-col>\r\n        <el-col :span=\"20\">\r\n          <el-input v-model=\"user.ip\"></el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"4\" class=\"lable\">机房：</el-col>\r\n        <el-col :span=\"20\">\r\n          <el-input v-model=\"user.door\"></el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"4\" class=\"lable\">编号：</el-col>\r\n        <el-col :span=\"20\">\r\n          <el-input v-model=\"user.num\"></el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"4\" class=\"lable\">宽带：</el-col>\r\n        <el-col :span=\"20\">\r\n          <el-input v-model=\"user.width\"></el-input>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"4\" class=\"lable\">状态：</el-col>\r\n        <el-col :span=\"20\">\r\n          <el-radio v-model=\"user.status\" label=\"1\">空闲</el-radio>\r\n          <el-radio v-model=\"user.status\" label=\"0\">已出售</el-radio>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"4\" class=\"lable\">时间：</el-col>\r\n        <el-col :span=\"20\">\r\n          <el-date-picker v-model=\"user.time\" :disabled=\"!s.isAdd\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n        </el-col>\r\n      </el-row>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"confirm\" v-if=\"s.isAdd\">添 加</el-button>\r\n        <el-button type=\"primary\" v-else @click=\"update\">修 改</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\n//例如：import 《组件名称》 from '《组件路径》';\r\nimport {\r\n  requestAddDevice,\r\n  findDevice,\r\n  requestUpdateDevice\r\n} from \"../Util/request.js\";\r\nexport default {\r\n  //import引入的组件需要注入到对象中才能使用\r\n\r\n  components: {},\r\n  props: [\"s\"],\r\n  data() {\r\n    //这里存放数据\r\n    return {\r\n      user: {\r\n        ip: \"\",\r\n        door: \"\",\r\n        num: \"\",\r\n        width: \"\",\r\n        status: \"\"\r\n      }\r\n    };\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //方法集合\r\n  methods: {\r\n    //   取消\r\n    cancel() {\r\n      this.empty();\r\n      this.$emit(\"hide\");\r\n    },\r\n    // 清空对话框\r\n    empty() {\r\n      this.user = {\r\n        ip: \"\",\r\n        door: \"\",\r\n        num: \"\",\r\n        width: \"\",\r\n        status: \"\"\r\n      };\r\n    },\r\n    //  添加\r\n    confirm() {\r\n      //   发请求\r\n      requestAddDevice(this.user).then(res => {\r\n        //   添加成功，1弹内容\r\n        if (res.data.isok) {\r\n          this.$message({\r\n            message: res.data.info,\r\n            type: \"success\"\r\n          });\r\n          //   2清空对话框\r\n          this.empty();\r\n          //   3添加对话框消失\r\n          this.$emit(\"hide\");\r\n          //   4添加成功通知父组件重新查询管理员\r\n          this.$emit(\"init\");\r\n        }\r\n      });\r\n    },\r\n    // 查看\r\n    look(id) {\r\n      findDevice({\r\n        id: id\r\n      }).then(res => {\r\n        if (res.data.isok) {\r\n          // 获取某条数据\r\n          this.user = res.data.data[0];\r\n        }\r\n      });\r\n    },\r\n    // 修改\r\n    update() {\r\n      delete this.user._id;\r\n      requestUpdateDevice(this.user).then(res => {\r\n        if (res.data.isok) {\r\n          // 弹成功\r\n          this.$message({\r\n            message: res.data.info,\r\n            type: \"success\"\r\n          });\r\n          //   清空对话框\r\n          this.empty();\r\n          //   对话框消失\r\n          this.$emit(\"hide\");\r\n          //   通知组件重新查询数据\r\n          this.$emit(\"init\");\r\n        }\r\n      });\r\n    }\r\n  },\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created() {},\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted() {},\r\n  beforeCreate() {}, //生命周期 - 创建之前\r\n  beforeMount() {}, //生命周期 - 挂载之前\r\n  beforeUpdate() {}, //生命周期 - 更新之前\r\n  updated() {}, //生命周期 - 更新之后\r\n  beforeDestroy() {}, //生命周期 - 销毁之前\r\n  destroyed() {}, //生命周期 - 销毁完成\r\n  activated() {} //如果页面有keep-alive缓存功能，这个函数会触发\r\n};\r\n</script>\r\n<style lang='css' scoped>\r\n.lable {\r\n  line-height: 40px;\r\n}\r\n.el-row {\r\n  margin-bottom: 20px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/addDevice.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":_vm.s.title,\"visible\":_vm.s.showDialog},on:{\"update:visible\":function($event){return _vm.$set(_vm.s, \"showDialog\", $event)}}},[_c('el-row',[_c('el-col',{staticClass:\"lable\",attrs:{\"span\":4}},[_vm._v(\"IP：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.user.ip),callback:function ($$v) {_vm.$set(_vm.user, \"ip\", $$v)},expression:\"user.ip\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"lable\",attrs:{\"span\":4}},[_vm._v(\"机房：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.user.door),callback:function ($$v) {_vm.$set(_vm.user, \"door\", $$v)},expression:\"user.door\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"lable\",attrs:{\"span\":4}},[_vm._v(\"编号：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.user.num),callback:function ($$v) {_vm.$set(_vm.user, \"num\", $$v)},expression:\"user.num\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"lable\",attrs:{\"span\":4}},[_vm._v(\"宽带：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{model:{value:(_vm.user.width),callback:function ($$v) {_vm.$set(_vm.user, \"width\", $$v)},expression:\"user.width\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"lable\",attrs:{\"span\":4}},[_vm._v(\"状态：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.user.status),callback:function ($$v) {_vm.$set(_vm.user, \"status\", $$v)},expression:\"user.status\"}},[_vm._v(\"空闲\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.user.status),callback:function ($$v) {_vm.$set(_vm.user, \"status\", $$v)},expression:\"user.status\"}},[_vm._v(\"已出售\")])],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"lable\",attrs:{\"span\":4}},[_vm._v(\"时间：\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":20}},[_c('el-date-picker',{attrs:{\"disabled\":!_vm.s.isAdd,\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.user.time),callback:function ($$v) {_vm.$set(_vm.user, \"time\", $$v)},expression:\"user.time\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.s.isAdd)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"添 加\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"修 改\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-03023967\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/addDevice.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03023967\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./addDevice.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addDevice.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./addDevice.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03023967\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./addDevice.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-03023967\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/addDevice.vue\n// module id = null\n// module chunks = ","<!--  -->\r\n<template>\r\n  <div>\r\n    <h1>设备列表</h1>\r\n    <el-button type=\"success\" @click=\"willadd\" v-if=\"isAdmin!='2'\">新增</el-button>\r\n    <el-row>\r\n      <el-col :span=\"20\" :offset=\"2\">\r\n        <el-table :data=\"arr\" style=\"width: 100%\">\r\n          <el-table-column prop=\"ip\" label=\"IP\" width=\"180\"></el-table-column>\r\n          <el-table-column prop=\"door\" label=\"机房\" width=\"180\"></el-table-column>\r\n          <el-table-column label=\"状态\" width=\"180\">\r\n            <template slot-scope=\"scope\">{{scope.row.status=='1'?'空闲':'已出售'}}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"warning\" @click=\"look(scope.row.id)\" v-if=\"isAdmin!='2'\">查看</el-button>\r\n              <el-button type=\"danger\" @click=\"del(scope.row.id)\" v-if=\"isAdmin!='2'\">删除</el-button>\r\n              <el-button type=\"primary\" @click=\"shop(scope.row.id)\" v-if=\"isAdmin=='2' \" :disabled=\"scope.row.status=='0'\">购买</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 添加管理员 的组件addManage -->\r\n    <add-device ref=\"add\" :s=\"status\" @hide=\"hide\" @init=\"init\"></add-device>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\r\n//例如：import 《组件名称》 from '《组件路径》';\r\nimport {\r\n  findDevice,\r\n  requestDelDevice,\r\n  requestUpdateDevice\r\n} from \"../Util/request\";\r\nimport addDevice from \"../components/addDevice\";\r\nexport default {\r\n  //import引入的组件需要注入到对象中才能使用\r\n  components: {\r\n    addDevice\r\n  },\r\n  data() {\r\n    //这里存放数据\r\n    return {\r\n      isAdmin: localStorage.getItem(\"isAdmin\"),\r\n      arr: [],\r\n      status: {\r\n        title: \"添加设备\",\r\n        isAdd: true, //如果是添加true，如果是修改false\r\n        showDialog: false //对话框出现的状态\r\n      }\r\n    };\r\n  },\r\n  //监听属性 类似于data概念\r\n  computed: {},\r\n  //监控data中的数据变化\r\n  watch: {},\r\n  //方法集合\r\n  methods: {\r\n    // 点击按钮出现添加对话框\r\n    willadd() {\r\n      this.status.title = \"添加设备\";\r\n      this.status.showDialog = true;\r\n      this.status.isAdd = true;\r\n    },\r\n    // 隐藏\r\n    hide() {\r\n      this.status.showDialog = false;\r\n    },\r\n    // 初始化数据\r\n    init() {\r\n      //   一进页面就要查询\r\n      findDevice({}).then(res => {\r\n        if (res.data.isok) {\r\n          //请求成功\r\n          this.arr = res.data.data;\r\n        }\r\n      });\r\n    },\r\n    // 查看\r\n\r\n    look(id) {\r\n      // 通过ref调用子组件的look方法\r\n      this.$refs.add.look(id);\r\n      this.status.title = \"修改管理员\";\r\n      this.status.isAdd = false;\r\n      this.status.showDialog = true;\r\n    },\r\n    //删除\r\n    del(id) {\r\n      this.$confirm(\"你确定要删除吗？\", \"提示\", {\r\n        confirmButtonText: \"删除\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          //点击了确定按钮\r\n          requestDelDevice({\r\n            id: id\r\n          }).then(res => {\r\n            //删除成功\r\n            if (res.data.isok) {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: res.data.info\r\n              });\r\n              //刷新页面\r\n              this.init();\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          //点击了取消按钮要做事情\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n    // 购买\r\n    shop(id) {\r\n      requestUpdateDevice({\r\n        id: id,\r\n        status: \"0\"\r\n      }).then(res => {\r\n        if (res.data.isok) {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"购买成功\"\r\n          });\r\n          this.init();\r\n        }\r\n      });\r\n    }\r\n  },\r\n  //生命周期 - 创建完成（可以访问当前this实例）\r\n  created() {},\r\n  //生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted() {\r\n    // 一进去就查询\r\n    this.init();\r\n  },\r\n  beforeCreate() {}, //生命周期 - 创建之前\r\n  beforeMount() {}, //生命周期 - 挂载之前\r\n  beforeUpdate() {}, //生命周期 - 更新之前\r\n  updated() {}, //生命周期 - 更新之后\r\n  beforeDestroy() {}, //生命周期 - 销毁之前\r\n  destroyed() {}, //生命周期 - 销毁完成\r\n  activated() {} //如果页面有keep-alive缓存功能，这个函数会触发\r\n};\r\n</script>\r\n<style lang='css' scoped>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/device.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"设备列表\")]),_vm._v(\" \"),(_vm.isAdmin!='2')?_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.willadd}},[_vm._v(\"新增\")]):_vm._e(),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":20,\"offset\":2}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.arr}},[_c('el-table-column',{attrs:{\"prop\":\"ip\",\"label\":\"IP\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"door\",\"label\":\"机房\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.status=='1'?'空闲':'已出售'))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.isAdmin!='2')?_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.look(scope.row.id)}}},[_vm._v(\"查看\")]):_vm._e(),_vm._v(\" \"),(_vm.isAdmin!='2')?_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.del(scope.row.id)}}},[_vm._v(\"删除\")]):_vm._e(),_vm._v(\" \"),(_vm.isAdmin=='2' )?_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":scope.row.status=='0'},on:{\"click\":function($event){return _vm.shop(scope.row.id)}}},[_vm._v(\"购买\")]):_vm._e()]}}])})],1)],1)],1),_vm._v(\" \"),_c('add-device',{ref:\"add\",attrs:{\"s\":_vm.status},on:{\"hide\":_vm.hide,\"init\":_vm.init}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6a4b55cd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/device.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a4b55cd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./device.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./device.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./device.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a4b55cd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./device.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a4b55cd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/device.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}